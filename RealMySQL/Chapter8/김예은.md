### 인덱스가 무엇이고, 왜 사용하는지 설명해 주세요.

- 데이터베이스 테이블의 검색 성능과 속도를 향상시키기 위한 방법입니다.
- 칼럼의 값과 해당 레코드의 주소를 키-값 쌍으로 매핑하여 정렬된 상태로 저장하는 데이터 구조입니다.
    - 인덱스는 항상 정렬된 상태로 유지되지만, 레코드는 아닙니다.

### B-Tree에 대해 설명해 주세요.

- 데이터베이스의 인덱싱 알고리즘 중 하나입니다.
- 루트 노드, 브랜치 노드, 리프 노드로 구성된 트리입니다.
- 인덱스 키 값은 항상 정렬된 상태로 유지되며, 리프 노드는 실제 데이터 레코드의 주소 값을 가지고 있습니다.
- 장) 데이터 검색 속도가 빠르다. (균형 트리 구조를 유지)
       범위 검색에서 성능이 좋다. (정렬된 데이터 기반 검색)
- 단) 데이터 Insert, update, delete시 성능이 저하된다. (select에서는 성능 good) 
       인덱스 저장 공간이 추가적으로 필요하다. (디스크 공간에 저장)

### 선택도(기수성)가 무엇이고, 인덱스 설계에 어떤 영향을 주나요?

- 선택도는 인덱스 칼럼의 **유니크한 값의 수**라고 할 수 있습니다.
    - 예를들어, 성별 칼럼(남/여) 보다 주민등록번호 (13자리 수)의 선택도가 높다.
- 선택도가 높을수록 인덱스 검색 범위가 좁아져서 검색 성능이 향상됩니다.
- 선택도가 높은 칼럼을 인덱스로 두는 것이 유리합니다.  → 선택도가 낮은 칼럼에 인덱스를 생성하면 검색 효율이 떨어지고 인덱스 크기만 커져서 성능 저하를 야기할 수 있습니다.

### 일반적으로 인덱스는 수정이 잦은 테이블에선 사용하지 않기를 권합니다. InnoDB의 인덱스 삽입, 삭제, 수정 방식과 같이 설명해 주세요.

- InnoDB는 B-Tree 인덱스를 사용하여 데이터를 관리합니다.
- InnoDB는 **체인지 버퍼**라는 기능을 통해 인덱스 변경 작업을 지연 처리하여 성능을 향상시킵니다.
- **삽입 :** 새로운 키 값을 B-Tree에 저장하고, 리프 노드가 꽉 차면 분리 작업을 수행.
- **삭제 :** 해당 키 값을 찾아서 **삭제 마크**
- **수정 : 키 값을 삭제**한 후 **새로운 키 값을 추가**하는 형태로 처리
- 삽입, 삭제, 수정 작업 모두 체인지 버퍼로 작업 지연 가능합니다.
- 일반적으로 인덱스는 수정이 잦은 테이블에선 사용하지 않기를 권합니다.
- 인덱스는 데이터의 저장(INSERT, UPDATE, DELETE) 성능을 희생하고 그 대신 데이터의 읽기 속도를 높이는 기능이기 때문입니다.
- 하지만 InnoDB 스토리지 엔진을 사용할시 체인지 버퍼를 통하여 인덱스를 관리하므로 수정이 잦은 테이블에서도 어느정도 성능을 보장 할 수 있습니다.

### B-Tree를 통해서 데이터를 읽는 세가지 방법을 설명해 주세요.

- **인덱스 레인지 스캔**
    - 인덱스의 **특정 범위**를 검색하는 방식입니다.
    - 루트 노드부터 리프 노드까지 이동하면서 **조건을 만족하는 값**을 찾고, 해당 범위의 인덱스를 **순차적으로 읽습니다.**
- **인덱스 풀 스캔**
    - 인덱스의 처음부터 끝까지 **모든 값을 읽는 방식**입니다.
    - 쿼리의 조건절에 인덱스의 첫 번째 칼럼이 아닌 다른 칼럼이 사용된 경우에 사용됩니다.
- **루스 인덱스 스캔**
    - 인덱스를 느슨하게 읽는 방식입니다.
    - **GROUP BY 또는 집합 함수를 최적화**하는 경우에 사용됩니다.
        - 집합 함수? == MAX(), MIN() 등
    - 인덱스 레인지 스캔과 비슷하게 작동하지만 **중간에 필요치 않은 인덱스 키 값은 넘기고 다음**으로 넘어가는 식으로 처리합니다.
- **인덱스 스킵 스캔**
    - (MySQL 8.0 버전부터 도입된 기능)
    - WHERE 조건절에 조건이 없는 인덱스의 선행 칼럼의 유니크한 값의 개수가 적을 때 옵티마이저가 인덱스를 효율적으로 사용할 수 있게 해주는 기능입니다.
    - 옵티마이저는 우선 선행 칼럼에서 유니크한 값을 모두 조회해서 주어진 쿼리에 선행 칼럼의 조건을 추가해서 쿼리를 다시 실행하는 형태로 처리합니다.
